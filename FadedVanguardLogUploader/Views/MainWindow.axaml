<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:FadedVanguardLogUploader.ViewModels"
		xmlns:sys="clr-namespace:System;assembly=mscorlib"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
		xmlns:p="clr-namespace:FadedVanguardLogUploader.Resources.Lang"
		xmlns:views="clr-namespace:FadedVanguardLogUploader.Views"
        mc:Ignorable="d"
		d:DesignWidth="800"
		d:DesignHeight="450"
		MinWidth="800"
		MinHeight="450"
		x:Name="FadedVanguardLogUploaderWindow"
        x:Class="FadedVanguardLogUploader.Views.MainWindow"
        Icon="/Assets/Guild_Faded_Vanguard_Emblem.png"
        Title="Faded Vanguard Log Uploader"
		ExtendClientAreaToDecorationsHint="True">
	
	<Window.DataContext>
		<vm:MainWindowViewModel/>
	</Window.DataContext>

	<Window.Styles>
		<Style Selector="TextBlock.h1">
			<Setter Property="FontSize" Value="24"/>
			<Setter Property="FontWeight" Value="Bold"/>
		</Style>
		<Style Selector="TextBlock.p1">
			<Setter Property="FontSize" Value="12"/>
		</Style>
		<Style Selector="TextBlock.p2">
			<Setter Property="FontSize" Value="8"/>
		</Style>
		<Style Selector="CheckBox.Menu">
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="ClipToBounds" Value="False"/>
			<Setter Property="IsHitTestVisible" Value="False"/>
		</Style>
	</Window.Styles>

	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="auto"></RowDefinition>
			<RowDefinition Height="auto"></RowDefinition>
			<RowDefinition Height="*"/>
			<RowDefinition Height="20"></RowDefinition>
		</Grid.RowDefinitions>

		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="*"></ColumnDefinition>
		</Grid.ColumnDefinitions>

		<!-- Menu -->
		<Grid Grid.Column="1"
			  Grid.ColumnSpan="10">
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="auto"></ColumnDefinition>
				<ColumnDefinition Width="auto"></ColumnDefinition>
				<ColumnDefinition Width="*"></ColumnDefinition>
			</Grid.ColumnDefinitions>

			
			<!-- Menu Backgound -->
			<StackPanel Grid.Column="1"
						Grid.ColumnSpan="10"
						Grid.Row="0"
						Name="TopRow"
						Background="{DynamicResource 
						SystemControlBackgroundBaseLowBrush}"/>

			<!-- Menu Buttons -->
			<Menu Grid.Column="1"
				  Margin="4,0,0,0">
				<!-- File -->
				<MenuItem Header="{x:Static p:Resources.LNG_Menu_File}">
					<MenuItem Header="{x:Static p:Resources.LNG_Menu_File_SelectFolder}"
							  Command="{Binding FolderCommand}"
							  CommandParameter="{Binding 
							  ElementName=FadedVanguardLogUploaderWindow}"/>
					<MenuItem Header="{x:Static p:Resources.LNG_Menu_File_SaveSettings}"
							  Command="{Binding SaveCommand}"/>
					<Separator/>
					<MenuItem Header="{x:Static p:Resources.LNG_Menu_File_WipeData}"
							  Command="{Binding WipeDBCommand}"/>
					<Separator/>
					<MenuItem Header="{x:Static p:Resources.LNG_Menu_File_Exit}"
							  Command="{Binding CloseCommand}"
							  CommandParameter="{Binding 
							  ElementName=FadedVanguardLogUploaderWindow}">
					</MenuItem>
				</MenuItem>
				
				<!-- Settings -->
				<MenuItem Header="{x:Static p:Resources.LNG_Menu_Settings}">
					<MenuItem Header="{x:Static p:Resources.LNG_Menu_Settings_DarkMode}"
							  Command="{Binding ModeCommand}">
						<MenuItem.Icon>
							<CheckBox IsChecked="{Binding ModeToggle}"
									  Classes="Menu"/>
						</MenuItem.Icon>
					</MenuItem>
					<MenuItem Header="{x:Static p:Resources.LNG_Menu_Settings_Lang}">
						<MenuItem Header="English"
								  Command="{Binding LanguageCommand}"
								  CommandParameter="en-GB">
						</MenuItem>
						<MenuItem Header="Polski"
								  Command="{Binding LanguageCommand}"
								  CommandParameter="pl-PL">
						</MenuItem>
					</MenuItem>
					<MenuItem Header="{x:Static p:Resources.LNG_Menu_Settings_GW2Api}"
							  Command="{Binding UseGw2ApiCommand}">
						<MenuItem.Icon>
							<CheckBox IsChecked="{Binding Gw2ApiToggle}"
									  Classes="Menu"/>
						</MenuItem.Icon>
					</MenuItem>
					<Separator/>
					<MenuItem Header="{x:Static p:Resources.LNG_Menu_Settings_PageAmount}">
						<MenuItem Header="25"
								  Command="{Binding PageAmountCommand}">
							<MenuItem.CommandParameter>
								<sys:Int32>25</sys:Int32>
							</MenuItem.CommandParameter>
						</MenuItem>
						<MenuItem Header="50"
								  Command="{Binding PageAmountCommand}">
							<MenuItem.CommandParameter>
								<sys:Int32>50</sys:Int32>
							</MenuItem.CommandParameter>
						</MenuItem>
						<MenuItem Header="100"
								  Command="{Binding PageAmountCommand}">
							<MenuItem.CommandParameter>
								<sys:Int32>100</sys:Int32>
							</MenuItem.CommandParameter>
						</MenuItem>
					</MenuItem>
					<MenuItem Header="{x:Static p:Resources.LNG_Menu_Settings_HideErrors}"
							  Command="{Binding ErrorHiddenCommand}">
						<MenuItem.Icon>
							<CheckBox IsChecked="{Binding ErrorFilterToggle}"
									  Classes="Menu"/>
						</MenuItem.Icon>
					</MenuItem>
				</MenuItem>
				
				<!-- Filter -->
				<MenuItem Header="{x:Static p:Resources.LNG_Menu_Filter}">
					<MenuItem Header="{x:Static p:Resources.LNG_Menu_Filter_Sort}">
						<MenuItem Header="{x:Static p:Resources.LNG_Menu_Filter_Sort_Asc}"
								  IsVisible="{Binding AscDesToggleHeader}"
								  Command="{Binding AscDesToggleCommand}">
						</MenuItem>
						<MenuItem Header="{x:Static p:Resources.LNG_Menu_Filter_Sort_Des}"
								  IsVisible="{Binding !AscDesToggleHeader}"
								  Command="{Binding AscDesToggleCommand}">
						</MenuItem>
						<Separator/>
						<MenuItem Header="{x:Static p:Resources.LNG_Menu_Filter_Sort_Date}"
								  Command="{Binding DateSortCommand}">
						</MenuItem>
						<MenuItem Header="{x:Static p:Resources.LNG_Menu_Filter_Sort_Length}"
								  Command="{Binding LengthSortCommand}">
						</MenuItem>
						<MenuItem Header="{x:Static p:Resources.LNG_Menu_Filter_Sort_Username}"
								  Command="{Binding UserSortCommand}">
						</MenuItem>
						<MenuItem Header="{x:Static p:Resources.LNG_Menu_Filter_Sort_CharName}"
								  Command="{Binding NameSortCommand}">
						</MenuItem>
					</MenuItem>
				</MenuItem>
				<!-- Help -->
				<MenuItem Header="{x:Static p:Resources.LNG_Menu_Help}">
					<MenuItem Header="{x:Static p:Resources.LNG_Menu_Help_About}"
							  Command="{Binding AboutCommand}"/>
				</MenuItem>
			</Menu>
		</Grid>
		
		<!-- Row 1 -->
		<Grid Grid.Row="1">
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="auto"></ColumnDefinition>
				<ColumnDefinition Width="auto"></ColumnDefinition>
				<ColumnDefinition Width="auto"></ColumnDefinition>
			</Grid.ColumnDefinitions>

			<TextBlock Grid.Column="0"
					   Margin="10,0,10,0"
					   VerticalAlignment="Center"
					   Text="{x:Static p:Resources.LNG_Filter_From_SemiColon}"/>
			<DatePicker Grid.Column="1"
						SelectedDate="{Binding Date, Mode=TwoWay}"
						VerticalAlignment="Center"/>
			<TimePicker Grid.Column="2"
						SelectedTime="{Binding Time, Mode=TwoWay}"
						VerticalAlignment="Center"/>
		</Grid>

		<!-- Row 2 -->
		<views:ListView Grid.Row="2"
						DataContext="{Binding List}"></views:ListView>

		<!-- Row 3  -->
		<StackPanel Grid.Row="3" Margin="10,0,0,0" Orientation="Horizontal">
			<TextBlock Classes="p2"
					   Text="{Binding List.FileCount}"></TextBlock>
			<TextBlock Classes="p2"
					   Text="{x:Static p:Resources.LNG_File_Count}"></TextBlock>
		</StackPanel>

		<!-- Design -->
		<StackPanel ZIndex="-3"
					Grid.Column="0"
					Grid.Row="0"
					Grid.ColumnSpan="10"
					Grid.RowSpan="10">
			<StackPanel.RenderTransform>
				<RotateTransform Angle="-55"></RotateTransform>
			</StackPanel.RenderTransform>

			<StackPanel Width="10000"
						Height="16"
						Margin="0,200,0,0"
						Background="{DynamicResource 
						SystemControlBackgroundBaseLowBrush}"
						Opacity="1"/>
			<StackPanel Width="10000"
						Height="16"
						Margin="0,4,0,0"
						Background="Crimson"
						Opacity="200"/>
			<StackPanel Width="10000"
						Height="10000"
						Margin="0,4,0,0"
						Background="{DynamicResource 
						SystemControlBackgroundBaseLowBrush}"
						Opacity="1"/>
		</StackPanel>
	</Grid>
</Window>
